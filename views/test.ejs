<% /*
  EJS template: ticket-card.ejs
  Expected locals:
    - title (string) optional
    - message (string) required
    - detail (string) optional
    - variant (string) one of: 'success' | 'warning' | 'danger' (affects icon color)
*/ %>
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title><%= title || 'Ticket status' %></title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1: #0f172a;
      --bg2: #0b1220;
      --card: rgba(255,255,255,0.06);
      --glass: rgba(255,255,255,0.04);
      --accent: #6ee7b7;
      --muted: rgba(255,255,255,0.6);
      --danger: #ff7b7b;
      --font: Inter, ui-sans-serif, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      --text-color: #ffffff;
    }

    html,body{height:100%;}
    body{
      margin:0;
      font-family:var(--font);
      background:linear-gradient(180deg,var(--bg1),var(--bg2));
      color: var(--text-color);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
    }

    .card{
      width:min(720px,95%);
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--card);
      border-radius:14px;
      padding:24px;
      box-shadow: 0 6px 24px rgba(2,6,23,0.6);
      display:flex;
      gap:18px;
      align-items:center;
      color: var(--text-color);
    }

    .icon{
      flex:0 0 64px;
      height:64px;
      width:64px;
      border-radius:12px;
      display:grid;
      place-items:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border:1px solid var(--glass);
      color:var(--muted);
    }

    .content{flex:1}
    .title{font-weight:600; font-size:16px; margin:0 0 6px 0; color:var(--muted);}
    .message{font-weight:700; font-size:20px; margin:0 0 6px 0; color: var(--text-color);}
    .detail{margin:0; color:rgba(255,255,255,0.65); font-size:14px}

    .icon.success{color:var(--accent)}
    .icon.danger{color:var(--danger)}
    .icon.warning{color:rgba(255,195,72,1)}

    @media (max-width:520px){
      .card{flex-direction:row; gap:12px; padding:18px}
      .message{font-size:16px}
      .icon{width:52px;height:52px}
    }
  </style>
</head>
<body>
  <% let _variant = (typeof variant === 'string') ? variant : '';
     let _iconColor = _variant === 'success' ? 'var(--accent)' : _variant === 'danger' ? 'var(--danger)' : 'var(--muted)';
  %>

  <main class="card" role="status" aria-live="polite">
    <div class="icon <%= _variant %>" >
      <% if(_variant === 'success'){ %>
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden>
          <path d="M20 6L9 17l-5-5"></path>
        </svg>
      <% } else if(_variant === 'danger'){ %>
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden>
          <line x1="18" y1="6" x2="6" y2="18"></line>
          <line x1="6" y1="6" x2="18" y2="18"></line>
        </svg>
      <% } else { %>
        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden>
          <circle cx="12" cy="12" r="10"></circle>
          <line x1="12" y1="16" x2="12" y2="12"></line>
          <line x1="12" y1="8" x2="12.01" y2="8"></line>
        </svg>
      <% } %>
    </div>

    <div class="content">
      <p class="title"><%= title || 'Ticket status' %></p>
      <p class="message"><%= message %></p>
      <% if(detail){ %><p class="detail"><%= detail %></p><% } %>
    </div>
  </main>

</body>
</html>